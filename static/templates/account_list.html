<!DOCTYPE html>
<html>

{{> _head title="Accounts" }}

<body>
    <div class="container grid-lg">
        {{> _navigation active="accounts" }}

        <h1>Manage accounts</h1>

        <div class="columns">
            <div class="column col-6 col-sm-12">
                <form method="GET">
                    <div class="input-group">
                        <input type="text" class="form-input" id="search-input" name="search" placeholder="Search..." value="{{search}}">
                        <input type="submit" value="Search" class="btn btn-primary input-group-btn" />
                    </div>
                </form>
            </div>
            <div class="column col-auto col-ml-auto">
                <a class="btn" href="/account/create">Create account</a>
            </div>
        </div>

        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Permission</th>
                    <th>Mail</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="search-results">
                {{#each accounts}}
                <tr>
                    <td>{{{name_search}}}</td>
                    <td style="text-transform: lowercase;">{{#if (ne permission "DEFAULT")}}{{{permission_search}}}{{/if}}</td>
                    <td>{{{mail_search}}}</td>
                    <td>
                        <a href="/account/{{id}}">Edit</a>
                        <a href="/transactions/{{id}}">Transactions</a>
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>

    <script src="/javascripts/live_search_accounts.js"></script>
</body>
</html>