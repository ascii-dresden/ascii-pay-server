<!DOCTYPE html>
<html>

{{> _head title="Transactions" }}

<body>
    <div class="container grid-lg">
        {{> _navigation active="accounts" }}

        <h1>Transactions</h1>

        <div class="columns">
            <div class="column col-4 col-sm-12">
                <div>Credit</div>
                <h1 class="d-block{{#if (lt account.credit 0)}} currency-negative{{/if}}{{#if (gt account.credit 0)}} currency-positive{{/if}}">{{currency account.credit}}€</h1>
            </div>
            <div class="column col-ml-auto col-4 col-sm-12" style="margin-top: auto; margin-bottom: auto;">
                <form action="/transaction/execute/{{account.id}}" method="POST">
                    <div class="input-group">
                        <input class="form-input" type="text" name="total" value="0.00" />
                        <span class="input-group-addon">€</span>
                        <input type="submit" value="Execute" class="btn btn-primary input-group-btn" />
                    </div>
                </form>
            </div>
        </div>

        <form method="GET">
            <div class="columns">
                <div class="column col-4 col-sm-12">
                    <div class="form-group">
                        <label class="form-label" for="from">From</label>
                        <input class="form-input" type="date" name="from" value="{{date.from}}">
                    </div>
                </div>
                <div class="column col-4 col-sm-12">
                    <div class="form-group">
                        <label class="form-label" for="to">To</label>
                        <input class="form-input" type="date" name="to" value="{{date.to}}">
                    </div>
                </div>
                <div class="column col-4 col-sm-12" style="margin-top: auto;">
                    <input type="submit" value="Refresh" class="btn btn-primary input-group-btn" />
                </div>
            </div>
        </form>

        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Total</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {{#each transactions}}
                <tr>
                    <td>{{format_datetime date}}</td>
                    <td class="{{#if (lt total 0)}}currency-negative{{/if}}{{#if (gt total 0)}}currency-positive{{/if}}">{{currency total}}</td>
                    <td>
                        <a href="#">Edit</a>
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
</body>
</html>
